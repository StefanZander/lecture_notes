
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>JSON - Android & Android Studio</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,400i,700%7CRoboto+mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto Condensed";--md-code-font-family:"Roboto mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="red">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#javascript-object-notation-json" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Android &amp; Android Studio" class="md-header__button md-logo" aria-label="Android & Android Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Android & Android Studio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JSON
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Android &amp; Android Studio" class="md-nav__button md-logo" aria-label="Android & Android Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Android & Android Studio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Index
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../generics/" class="md-nav__link">
        Collections und Generics
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../serialisierung/" class="md-nav__link">
        Serialisierung und Persistenz
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../singleton/" class="md-nav__link">
        Singleton
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../serialized_singleton/" class="md-nav__link">
        Serialized Singleton
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../grundlagen/" class="md-nav__link">
        Grundlagen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../activities/" class="md-nav__link">
        Activities & Intents
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../handler/" class="md-nav__link">
        Handler
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          JSON
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        JSON
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#android-json-library" class="md-nav__link">
    Android JSON Library
  </a>
  
    <nav class="md-nav" aria-label="Android JSON Library">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jsonobject" class="md-nav__link">
    JSONObject
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-data-as-json" class="md-nav__link">
    Storing Data as JSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-data-from-the-jsonobject" class="md-nav__link">
    Reading Data from the JSONObject
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gson" class="md-nav__link">
    GSON
  </a>
  
    <nav class="md-nav" aria-label="GSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-gson" class="md-nav__link">
    Using GSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-gson-with-gradleandroid" class="md-nav__link">
    Using Gson with Gradle/Android
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converting-simple-datatypes" class="md-nav__link">
    Converting Simple Datatypes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-java-objects-to-json" class="md-nav__link">
    Converting Java Objects to JSON
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-remarks" class="md-nav__link">
    Important Remarks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    Disclaimer
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../data_storage/" class="md-nav__link">
        Data Storage
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../actionbar/" class="md-nav__link">
        App Bar
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../recycler_view/" class="md-nav__link">
        RecyclerView
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../asynctask/" class="md-nav__link">
        AsyncTask
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../thread_communication/" class="md-nav__link">
        Threads & Communication
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#android-json-library" class="md-nav__link">
    Android JSON Library
  </a>
  
    <nav class="md-nav" aria-label="Android JSON Library">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jsonobject" class="md-nav__link">
    JSONObject
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-data-as-json" class="md-nav__link">
    Storing Data as JSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-data-from-the-jsonobject" class="md-nav__link">
    Reading Data from the JSONObject
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gson" class="md-nav__link">
    GSON
  </a>
  
    <nav class="md-nav" aria-label="GSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-gson" class="md-nav__link">
    Using GSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-gson-with-gradleandroid" class="md-nav__link">
    Using Gson with Gradle/Android
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converting-simple-datatypes" class="md-nav__link">
    Converting Simple Datatypes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-java-objects-to-json" class="md-nav__link">
    Converting Java Objects to JSON
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-remarks" class="md-nav__link">
    Important Remarks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    Disclaimer
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="javascript-object-notation-json">JavaScript Object Notation (JSON)</h1>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p><strong>Lernziele</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Sie kennen die Grundstruktur von JSON Daten</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Sie kennen einige der bekanntesten JSON Bibliotheken unter Android </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Sie können JSON-Daten unter Android mittels entspr. Bibliotheken verarbeiten</li>
</ul>
</div>
<h2 id="android-json-library">Android JSON Library</h2>
<p>The Android platform includes the standard <code>json.org</code> library, which allows processing and creating JSON files.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Plase note:</strong> Instances of the <code>json.org</code> class are <strong><em>not</em> thread safe</strong>. Although this class is nonfinal, it was <em>not</em> designed for inheritance and should <em>not</em> be subclassed. In particular, self-use by overrideable methods is not specified.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Hint:</strong> You can also use <strong>open source libraries</strong> such as <a href="https://github.com/google/gson">Gson</a> and <a href="https://github.com/square/moshi">Moshi</a> for JSON processing. These libraries are easier to use, in general faster and provide more flexibility.</p>
</div>
<h3 id="jsonobject">JSONObject</h3>
<p>The <code>JSONObject</code> class provides a modifiable set of name/value mappings. </p>
<ul>
<li>Names are unique, non-null strings. </li>
<li>Values may be any mix of <code>JSONObjects</code>, <code>JSONArrays</code>, Strings, Booleans, Integers, Longs, Doubles or NULL. Values may not be <code>null</code>, NaNs, infinities, or of any type not listed here.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Hinweis:</strong> Für das Praktikum ist die Verwendung von <code>JSONObject</code> ausreichend, da die Antworten des TV-Servers vordefiniert und einfach zu verarbeiten sind. Für komplexere Applikationen empfiehlt sich die Verwendung der eingangs genannten Bibliotheken.</p>
</div>
<h3 id="storing-data-as-json">Storing Data as JSON</h3>
<p>Writing JSON is very simple. Just create the <code>JSONObject</code> or <code>JSONArray</code> and use the <code>.put()</code> method.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">writeJSON</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">JSONObject</span> <span class="n">object</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="p">();</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="s">&quot;Jack Hack&quot;</span><span class="p">);</span>
        <span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;score&quot;</span><span class="p">,</span> <span class="k">new</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">200</span><span class="p">));</span>
        <span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;current&quot;</span><span class="p">,</span> <span class="k">new</span> <span class="n">Double</span><span class="p">(</span><span class="mf">152.32</span><span class="p">));</span>
        <span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;nickname&quot;</span><span class="p">,</span> <span class="s">&quot;Hacker&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">JSONException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">object</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<h3 id="reading-data-from-the-jsonobject">Reading Data from the <code>JSONObject</code></h3>
<p>Converting a JSON string into a JSON object is also very simple. The following code demonstrates how to transform a JSON string into a <code>JSONObject</code> from which further data can be extracted.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">org.json.JSONArray</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="p">;</span>

<span class="n">String</span> <span class="n">jsonString</span> <span class="o">=</span> <span class="n">readJsonObjectFromSomeWhere</span><span class="p">();</span> 
<span class="k">try</span> <span class="p">{</span>
    <span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="p">(</span><span class="n">jsonString</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>
<span class="c1">// read data from the JSONObject</span>
</code></pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Note:</strong> The structure of the serialized JSON data need to be known beforehand, i.e., the logic needed to map the extracted JSON elements into Java object must be implemented by hand in the source code.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Warning:</strong> The code example cannot run in the main thread in Android (<em>think about why</em>). Place such code in a separate Thread or use an <code>AsyncTask</code>.</p>
</div>
<h2 id="gson">GSON</h2>
<p>Gson is a Java library that can be used to convert Java Objects into their JSON representation. It can also be used to convert a JSON string to an equivalent Java object.</p>
<p>Gson can work with arbitrary Java objects including pre-existing objects that you do not have source code of.</p>
<h3 id="using-gson">Using GSON</h3>
<p>The primary class to use is <code>Gson</code>, which you can just create by calling <code>new Gson()</code>. There is also a class <code>GsonBuilder</code> available that can be used to create a <code>Gson</code> instance with various settings like version control and so on.</p>
<p>The Gson instance does not maintain any state while invoking Json operations. So, you are free to reuse the same object for multiple Json serialization and deserialization operations.</p>
<h3 id="using-gson-with-gradleandroid">Using Gson with Gradle/Android</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="s1">&#39;com.google.code.gson:gson:2.8.5&#39;</span>
<span class="o">}</span>
</code></pre></div>
</td></tr></table>

<h3 id="examples">Examples</h3>
<h4 id="converting-simple-datatypes">Converting Simple Datatypes</h4>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">// Serialization</span>
<span class="n">Gson</span> <span class="n">gson</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Gson</span><span class="p">();</span>
<span class="n">gson</span><span class="p">.</span><span class="na">toJson</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>            <span class="c1">// ==&gt; 1</span>
<span class="n">gson</span><span class="p">.</span><span class="na">toJson</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">);</span>       <span class="c1">// ==&gt; &quot;abcd&quot;</span>
<span class="n">gson</span><span class="p">.</span><span class="na">toJson</span><span class="p">(</span><span class="k">new</span> <span class="n">Long</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span> <span class="c1">// ==&gt; 10</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span> <span class="p">};</span>
<span class="n">gson</span><span class="p">.</span><span class="na">toJson</span><span class="p">(</span><span class="n">values</span><span class="p">);</span>       <span class="c1">// ==&gt; [1]</span>

<span class="c1">// Deserialization</span>
<span class="kt">int</span> <span class="n">one</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">fromJson</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">,</span> <span class="kt">int</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">Integer</span> <span class="n">one</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">fromJson</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">Long</span> <span class="n">one</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">fromJson</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">,</span> <span class="n">Long</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">Boolean</span> <span class="kc">false</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">fromJson</span><span class="p">(</span><span class="s">&quot;false&quot;</span><span class="p">,</span> <span class="n">Boolean</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">fromJson</span><span class="p">(</span><span class="s">&quot;\&quot;abc\&quot;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">anotherStr</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">fromJson</span><span class="p">(</span><span class="s">&quot;[\&quot;abc\&quot;]&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">[]</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

<h4 id="converting-java-objects-to-json">Converting Java Objects to JSON</h4>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">BagOfPrimitives</span> <span class="p">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">value1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">value2</span> <span class="o">=</span> <span class="s">&quot;abc&quot;</span><span class="p">;</span>
  <span class="kd">private</span> <span class="kd">transient</span> <span class="kt">int</span> <span class="n">value3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="n">BagOfPrimitives</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// no-args constructor</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Serialization</span>
<span class="n">BagOfPrimitives</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BagOfPrimitives</span><span class="p">();</span>
<span class="n">Gson</span> <span class="n">gson</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Gson</span><span class="p">();</span>
<span class="n">String</span> <span class="n">json</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">toJson</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>  

<span class="c1">// ==&gt; json is {&quot;value1&quot;:1,&quot;value2&quot;:&quot;abc&quot;}</span>
</code></pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Note</strong> It is not possible to serialize objects with circular references since that will result in infinite recursion.</p>
</div>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">// Deserialization</span>
<span class="n">BagOfPrimitives</span> <span class="n">obj2</span> <span class="o">=</span> <span class="n">gson</span><span class="p">.</span><span class="na">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">BagOfPrimitives</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="c1">// ==&gt; obj2 is just like obj</span>
</code></pre></div>
</td></tr></table>

<h3 id="important-remarks">Important Remarks</h3>
<ul>
<li>It is perfectly fine (and recommended) to use private fields.</li>
<li>There is no need to use any annotations to indicate a field is to be included for serialization and deserialization. All fields in the current class (and from all super classes) are included by default.</li>
<li>If a field is marked <code>transient</code>, (by default) it is ignored and not included in the JSON serialization or deserialization.</li>
<li>This implementation handles nulls correctly.</li>
<li>While serializing, a <code>null</code> field is omitted from the output.</li>
<li>While deserializing, a missing entry in JSON results in setting the corresponding field in the object to its default value: <ul>
<li><code>null</code> &rarr; for object types, </li>
<li><code>zero</code> &rarr; for numeric types, and </li>
<li><code>false</code> &rarr; for booleans.</li>
</ul>
</li>
<li>If a field is <code>synthetic</code>, it is ignored and not included in JSON serialization or deserialization.</li>
<li>Fields corresponding to the outer classes in inner classes, anonymous classes, and local classes are ignored and not included in serialization or deserialization.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>TODO</strong>: Add more information about serializing and deserializing objects and collections (see gson user guide)</p>
</div>
<h2 id="disclaimer">Disclaimer</h2>
<p>Most of the information in this section has been compiled from the following sources:</p>
<ul>
<li><a href="http://www.vogella.com/tutorials/AndroidJSON/article.html">http://www.vogella.com/tutorials/AndroidJSON/article.html</a></li>
<li><a href="http://www.vogella.com/tutorials/JavaLibrary-Gson/article.html">http://www.vogella.com/tutorials/JavaLibrary-Gson/article.html</a></li>
<li><a href="https://github.com/google/gson/blob/master/UserGuide.md">https://github.com/google/gson/blob/master/UserGuide.md</a></li>
<li><a href="https://developer.android.com/reference/org/json/JSONObject">https://developer.android.com/reference/org/json/JSONObject</a></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../handler/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Zurück
              </span>
              Handler
            </div>
          </div>
        </a>
      
      
        <a href="../data_storage/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Weiter
              </span>
              Data Storage
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "In Zwischenablage kopieren", "clipboard.copied": "In Zwischenablage kopiert", "search.config.lang": "de", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Suche", "search.result.placeholder": "Suchbegriff eingeben", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.term.missing": "Es fehlt"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
        <script src="../javascript/extra.js"></script>
      
    
  </body>
</html>